---
layout: post
title: "Example article with embedded code and data"
tags: [example, markdown, reproducibility]
---

In October I published an essay on Article-Level Metrics (ALM) in PLOS Biology [@fenner2013]. The essay is a good introduction into Article-Level Metrics, and I am proud that it is part of the [Tenth Anniversary PLOS Biology Collection](http://dx.doi.org/10.1371/issue.pcol.v06.i03). Like all PLOS content, the article was published with a [Creative Commons attribution license](http://blogs.plos.org/tech/creative-commons-for-science-interview-with-puneet-kishor/), allowing me to republish the article on this blog. I have now done so and the article is available [here](/2013/12/11/what-can-article-level-metrics-do-for-you/).

Of course I didn't want to simply republish the article, but I wanted to publish an improved version. The article has five figures, four of them show visualizations of ALM data that were generated using R (the fifth figure is a table reproduced from another article). The PLOS article includes the ALM dataset and the R scripts used to generate the figures as [supplementary information](http://dx.doi.org/10.1371/journal.pbio.1001687.s001). What I have done now is to recreate the article as a single markdown file (available [here](https://github.com/mfenner/blog/blob/master/_posts/2013-12-11-what-can-article-level-metrics-do-for-you.Rmd)) that has all R code embedded. Using R and [knitr](http://yihui.name/knitr/) - and the [CSV file with the ALM data](/data/alm_report_plos_biology_2013-05-20.csv) - everyone can now reproduce the figures from the paper by simply running the embedded code, and can dig deeper into the data.

![**Figure 3.** Views vs. citations for PLOS Biology articles published in 2010.](/images/2013-12-11_figure_3.svg)

This was a good opportunity to improve the accessibility of the article in other ways. Instead of the raster image formats PNG, JPEG and TIFF used by PLOS and almost every other publisher, I generated the figures in the vector format SVG. Not only does SVG produce images independent of device resolution and screen size (try to zoom in on the figure above), but SVG can also easily be manipulated in the browser since it is XML. This is beyond the scope of this blog post, but look at the [d3.js](http://d3js.org/) Javascript library for great examples of how SVG can be dynamically generated and changed in the browser. **Figure 3** above could for example be enhanced so that the article title is displayed when you hover over one of the bubbles, or we could enable zooming to show more detail.

Like all content on this blog, the article was created using [Pandoc](http://johnmacfarlane.net/pandoc/), and the bibliography was dynamically generated. This makes it easy to change the citation style, and I decided to use the [APA Style](http://www.apastyle.org/) that shows the citations in the text as author-date rather than numbered as with the PLOS style (see the example citation in the first paragraph). The combined bibliography for all blog posts including the article can be downloaded in bibtex format [here](/bibliography/references.bib).

Lastly, I wanted to generate nicer HTML for a better online reading experience. I haven't done anything fancy, but most publishers seem to focus on navigation around an article, so that very little screen real estate is left for the actual content of the article. I've tried to improve readability by reducing the navigation areas to a minimum, by using readable fonts in larger sizes: [Adobe Minion Pro](https://typekit.com/fonts/minion-pro) for the body text and [Adobe Myriad Pro](https://typekit.com/fonts/myriad-pro) for headings, tables and figure legends.

### References